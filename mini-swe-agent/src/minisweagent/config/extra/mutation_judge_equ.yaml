agent:
  system_template: |
    You are a highly experienced software developer tasked with evaluating the quality of a Mutation in a codebase.

  instance_template: |
    You will receive the following four parts:

    1. GitHub Issue Description — Background of the problem and the fix objective;
    2. Gold Patch — The official or correct fix patch;
    3. Test Patch — The tests added to verify the fix;
    4. Mutation — A small code change introduced based on the gold patch, which has passed all the new tests.

    Your task is to evaluate whether this Mutation is a **high-quality equivalent mutant**.

    An equivalent mutant is a mutation that:
    - Is **semantically equivalent** to the Gold Patch for all possible inputs and execution paths;
    - Does NOT introduce any real functional or behavioral difference;
    - Still passes all tests, but **would pass even if the test suite were perfect**.

    ----

    #### Step 1: Difference Identification (Difference Analysis)

    First, compare the Mutation and Gold Patch.
    Summarize their differences (such as added/removed/modified logic, refactoring, reordered conditions, alternative API usage, redundant checks, etc.).

    The output should include:

    - Modified Lines (you can reference the key context)
    - Change Type (Added / Modified / Deleted / Refactored)
    - A brief explanation of whether the change is purely syntactic, structural, or a potentially semantic rewrite

    ----

    #### Step 2: In-depth Evaluation (Structured Evaluation)

    1. Relevance to the Issue (Relevance)
      - Does the Mutation modify the same code region, function, or logic that is directly related to the Issue fix?
      - Is it within the scope of the fix behavior described in the Issue?
      - If the Mutation only changes formatting, comments, or completely unrelated code, its relevance is low.

    2. Semantic Equivalence Analysis (Equivalence Validity)
      - Does the Mutation preserve **exactly the same observable behavior** as the Gold Patch?
      - For all inputs, edge cases, and execution paths, would the outputs and side effects be identical?
      - Does the change rely on algebraic equivalence, logical equivalence, redundant conditions, refactoring, or alternative but equivalent APIs?
      - Is there **any plausible scenario** where the Mutation could diverge from the Gold Patch?
        - If yes, it is **not** equivalent.
        - If no, it is a valid equivalent mutation.
    ----

    ### Output Format (Please Follow This Exactly)

    Difference Summary:
      Briefly list all meaningful code-level differences between the **Gold Patch** and the **Mutation**.

    Reasoning Analysis:
      Relevance to the Issue:
      Semantic Equivalence (Is it truly equivalent?):

    Final Evaluation: Please output the final judgment in the following format, placed inside the <Answer></Answer> tag:
    <Answer>
    Relevance: Yes/No
    Equivalent Mutation: Yes/No
    </Answer>

    ### Input Format

    ```
    ## Issue
    {{issue}}

    ## Test Patch
    {{test_patch}}

    ## Gold Patch
    {{gold_patch}}

    ## Mutation
    {{mutation}}
    ```

  action_observation_template: |
    <returncode>{{output.returncode}}</returncode>
    {% if output.output | length < 10000 -%}
    <output>
    {{ output.output -}}
    </output>
    {%- else -%}
    <warning>
    The output of your last command was too long.
    Please try a different command that produces less output.
    If you're looking at a file you can try use head, tail or sed to view a smaller number of lines selectively.
    If you're using grep or find and it produced too much output, you can use a more selective search pattern.
    If you really need to see something from the full command's output, you can redirect output to a file and then search in that file.
    </warning>
    {%- set elided_chars = output.output | length - 10000 -%}
    <output_head>
    {{ output.output[:5000] }}
    </output_head>
    <elided_chars>
    {{ elided_chars }} characters elided
    </elided_chars>
    <output_tail>
    {{ output.output[-5000:] }}
    </output_tail>
    {%- endif -%}
  format_error_template: |
    Please always provide EXACTLY ONE action in triple backticks, found {{actions|length}} actions.

    Please format your action in triple backticks as shown in <response_example>.

    <response_example>
    Here are some thoughts about why you want to perform the action.

    ```bash
    <action>
    ```
    </response_example>

    If you have completed your assignment, please consult the first message about how to
    submit your solution (you will not be able to continue working on this task after that).
  step_limit: 100
  cost_limit: 2.

environment:
  cwd: "/testbed"
  timeout: 60
  env:
    PAGER: cat
    MANPAGER: cat
    LESS: -R
    PIP_PROGRESS_BAR: 'off'
    TQDM_DISABLE: '1'
  environment_class: docker

model:
  model_name: "openai/gpt-5"
  model_kwargs:
    drop_params: true
    temperature: 0.8

